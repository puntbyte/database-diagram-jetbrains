<!-- web/index.html -->
<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/svg+xml" href="./vite.svg"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>web</title>
  <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();class un{onMessage;constructor(e){this.onMessage=e,window.addEventListener("message",n=>{const t=n.data;t&&typeof t.type=="string"&&this.onMessage(t)}),this.send({type:"READY"})}send(e){const n=JSON.stringify(e);window.cefQuery?window.cefQuery({request:n}):console.log("Bridge Dev Log:",e)}log(e){this.send({type:"LOG",level:"INFO",message:e})}}function Ve(d){return d.replace(/[^a-zA-Z0-9_]/g,"_")}function dn(d){return d.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"")}function qe(d){const e=new Map;if(!d)return e;const n=d.split(",").map(t=>t.trim()).filter(Boolean);for(let t of n)if(t.includes(":")){const[r,...i]=t.split(":");e.set(r.trim().toLowerCase(),i.join(":").trim())}else e.set(t.toLowerCase(),"true");return e}function fn(d){const e={},t=/Project\s*(?:(?:"[^"]*")|(?:[\w]+))?\s*\{([\s\S]*?)\}/i.exec(d);return t&&t[1].split(`
`).forEach(a=>{const m=a.split(":");if(m.length>=2){const s=m[0].trim();let h=m.slice(1).join(":").trim();(h.startsWith("'")&&h.endsWith("'")||h.startsWith('"')&&h.endsWith('"'))&&(h=h.substring(1,h.length-1)),!isNaN(Number(h))&&h!==""?e[s]=Number(h):e[s]=h}}),e}function wt(d){const e=[],n=d.split(`
`).map(t=>t.trim()).filter(Boolean);for(let t of n){const r=/^(\(?\s*[\w\.,\s]+\s*\)?)(?:\s*\[(.*?)\])?$/i.exec(t);if(!r)continue;const i=r[1].replace(/^\(/,"").replace(/\)$/,"").split(",").map(m=>m.trim()).filter(Boolean),a=qe(r[2]||"");e.push({columns:i,settings:Object.fromEntries(a),raw:t})}return e}function At(d,e,n){const t=n.split(",").map(b=>b.trim());let r=!1,i=!1,a=!1,m=!1,s,h,f,w;for(const b of t){/pk|primary key/i.test(b)&&(r=!0),/unique/i.test(b)&&(i=!0),/not null/i.test(b)&&(a=!0);const k=/note:\s*(['"])([\s\S]*?)\1/i.exec(b);k&&(s=k[2]);const N=/default:\s*(['`])?([\s\S]*?)\1?/i.exec(b);N&&(h=N[2]);const p=/ref:\s*(<>|[<>=-])\s*("?[\w.]+"?)\.("?[\w"]+"?)/i.exec(b);p&&(m=!0,w={symbol:p[1],toTable:p[2],toColumn:p[3]})}return{name:d,type:e,isPk:r,isUnique:i,isNotNull:a,isFk:m,note:s,default:h,enumValues:f,inlineRef:w}}function hn(d){const e=[],n=d.split(`
`);for(let t of n){if(t=t.trim(),!t||t.startsWith("Note"))continue;const i=/^("?[\w]+"?)\s+([a-zA-Z0-9_()]+)(?:\s*\[(.*?)\])?/.exec(t);i&&e.push(At(i[1].replace(/"/g,""),i[2],i[3]||""))}return{fields:e}}function Ot(d,e,n,t,r){const i=m=>m.replace(/"/g,"");let a="1:n";return n==="<"?a="1:n":n===">"?a="n:1":n==="-"?a="1:1":n==="<>"&&(a="m:n"),{fromTable:Ve(i(d)),fromColumn:i(e),toTable:Ve(i(t)),toColumn:i(r),type:a}}function mn(d){const e=[],n=/("?[\w.]+"?)\.("?[\w"]+"?)\s*(<>|[<>=-])\s*("?[\w.]+"?)\.("?[\w"]+"?)/g,t=/Ref\s*[^{:]*[:\{]\s*([^}]+)\s*\}?/gi;let r;for(;(r=t.exec(d))!==null;){const i=r[1];let a;for(;(a=n.exec(i))!==null;)e.push(Ot(a[1],a[2],a[3],a[4],a[5]))}return e}function pn(d){const e=[],n=[],t=new Map,r=/TablePartial\s+("?[\w.]+"?)\s*(?:\[(.*?)\])?\s*\{([\s\S]*?)\}/gi;let i;for(;(i=r.exec(d))!==null;){const s=i[1].replace(/"/g,""),h=i[2]||"",f=i[3]||"",w=/indexes\s*\{([\s\S]*?)\}/i.exec(f);let b=[],k=f;w&&(b=wt(w[1]),k=f.replace(w[0],""));const{fields:N}=hn(k);t.set(s,{name:s,settings:qe(h),fields:N,indexes:b})}const a=/Table\s+("?[\w.]+"?)\s*(?:\[(.*?)\])?\s*(?:as\s+\w+\s*)?\{([\s\S]*?)\}/gi;let m;for(;(m=a.exec(d))!==null;){const s=m[1].replace(/"/g,""),h=m[2]||"",f=m[3]||"",w=qe(h),b=/indexes\s*\{([\s\S]*?)\}/i.exec(f);let k=[],N=f;b&&(k=wt(b[1]),N=f.replace(b[0],""));const p=N.split(`
`),u=new Map,L=[],T=new Map,S=new Map;for(let O of p){const x=O.trim();if(!x)continue;if(x.startsWith("~")){const C=x.replace(/^~\s*/,"").trim(),R=t.get(C);if(R){for(const[E,v]of R.settings.entries())S.set(E,v);for(const E of R.fields){if(u.has(E.name)){const v=L.indexOf(E.name);v!==-1&&L.splice(v,1)}u.set(E.name,E),L.push(E.name)}for(const E of R.indexes)T.set(E.columns.join("|").toLowerCase(),E)}continue}const M=/^("?[\w]+"?)\s+([a-zA-Z0-9_()]+)(?:\s*\[(.*?)\])?/.exec(x);if(M){const C=M[1].replace(/"/g,""),R=At(C,M[2],M[3]||"");if(u.has(R.name)){const E=L.indexOf(R.name);E!==-1&&L.splice(E,1)}u.set(R.name,R),L.push(R.name)}}for(const O of k)T.set(O.columns.join("|").toLowerCase(),O);for(const[O,x]of w.entries())S.set(O,x);const B=L.map(O=>u.get(O)).filter(Boolean);B.forEach(O=>{O.inlineRef&&n.push(Ot(s,O.name,O.inlineRef.symbol,O.inlineRef.toTable,O.inlineRef.toColumn))});const A=/Note:\s*(['"])([\s\S]*?)\1/i.exec(f);e.push({id:Ve(s),name:s,fields:B,note:A?A[2]:void 0,color:S.get("color")||void 0,width:S.has("width")?parseInt(S.get("width"),10):void 0,x:S.has("x")?parseInt(S.get("x"),10):void 0,y:S.has("y")?parseInt(S.get("y"),10):void 0,settings:Object.fromEntries(S),indexes:Array.from(T.values())})}return{tables:e,inlineRelationships:n}}class vn{parse(e){const n=dn(e),t=fn(n),{tables:r,inlineRelationships:i}=pn(n),a=mn(n),m=[...i,...a];return{tables:r,relationships:m,projectSettings:t}}}const gn=`<?xml version="1.0" encoding="utf-8"?>\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="800px" height="800px" viewBox="0 0 24 24"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>`,wn=`<?xml version="1.0" encoding="utf-8"?>\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path d="M4 9L20 9M8 9V20M6.2 20H17.8C18.9201 20 19.4802 20 19.908 19.782C20.2843 19.5903 20.5903 19.2843 20.782 18.908C21 18.4802 21 17.9201 21 16.8V7.2C21 6.0799 21 5.51984 20.782 5.09202C20.5903 4.71569 20.2843 4.40973 19.908 4.21799C19.4802 4 18.9201 4 17.8 4H6.2C5.0799 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.07989 3 7.2V16.8C3 17.9201 3 18.4802 3.21799 18.908C3.40973 19.2843 3.71569 19.5903 4.09202 19.782C4.51984 20 5.07989 20 6.2 20Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\r
</svg>`,yn=`<?xml version="1.0" encoding="utf-8"?>\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path d="M6 12H18M12 6V18" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\r
</svg>`,xn=`<?xml version="1.0" encoding="utf-8"?>\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path d="M6 12L18 12" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\r
</svg>`,bn=`<?xml version="1.0" encoding="utf-8"?>\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path d="M15 4V7C15 8.10457 15.8954 9 17 9H20M9 4V7C9 8.10457 8.10457 9 7 9H4M15 20V17C15 15.8954 15.8954 15 17 15H20M9 20V17C9 15.8954 8.10457 15 7 15H4" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\r
</svg>`,Ln=`<?xml version="1.0" encoding="utf-8"?>
\r\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\r
  <title>grid</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none"/>\r
    </g>\r
    <g id="icons_Q2" data-name="icons Q2">\r
      <path d="M44,26a2,2,0,0,0,0-4H38V14h6a2,2,0,0,0,0-4H38V4a2,2,0,0,0-4,0v6H26V4a2,2,0,0,0-4,0v6H14V4a2,2,0,0,0-4,0v6H4a2,2,0,0,0,0,4h6v8H4a2,2,0,0,0,0,4h6v8H4a2,2,0,0,0,0,4h6v6a2,2,0,0,0,4,0V38h8v6a2,2,0,0,0,4,0V38h8v6a2,2,0,0,0,4,0V38h6a2,2,0,0,0,0-4H38V26ZM34,14v8H26V14ZM14,14h8v8H14Zm0,20V26h8v8Zm20,0H26V26h8Z"/>\r
    </g>\r
  </g>\r
</svg>`,Sn=`<?xml version="1.0" encoding="UTF-8"?>\r
\x3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r
    <title>up_fill</title>\r
    <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r
        <g id="Arrow" transform="translate(-434.000000, -48.000000)">\r
            <g id="up_fill" transform="translate(434.000000, 48.000000)">\r
                <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z" id="MingCute" fill-rule="nonzero">
\r</path>\r
                <path d="M10.9393,7.93932 C11.5251,7.35354 12.4749,7.35354 13.0607,7.93932 L18.7175,13.5962 C19.3033,14.182 19.3033,15.1317 18.7175,15.7175 C18.1317,16.3033 17.182,16.3033 16.5962,15.7175 L12,11.1213 L7.40381,15.7175 C6.81802,16.3033 5.86827,16.3033 5.28248,15.7175 C4.6967,15.1317 4.6967,14.182 5.28249,13.5962 L10.9393,7.93932 Z" id="路径" fill="#09244B">
\r</path>\r
            </g>\r
        </g>\r
    </g>\r
</svg>`,Q={Key:gn,Table:wn,ZoomIn:yn,ZoomOut:xn,Center:bn,Grid:Ln,ChevronUp:Sn};class Mn{static create(e,n){const t=document.createElement("div");t.className="db-row",t.id=`col-${n}-${e.name}`,e.isUnique&&t.classList.add("indexed-row");const r=document.createElement("div");r.className="row-left";const i=document.createElement("span");i.className="key-icon",e.isPk||e.isFk?(i.innerHTML=Q.Key,e.isPk&&e.isFk?(i.classList.add("pk-fk"),i.title="Primary & Foreign Key"):e.isPk?(i.classList.add("pk"),i.title="Primary Key"):(i.classList.add("fk"),i.title="Foreign Key")):i.classList.add("empty"),r.appendChild(i);const a=document.createElement("div");a.className="name-container";const m=document.createElement("span");if(m.className="field-name",m.innerText=e.name,a.appendChild(m),e.note){const w=document.createElement("div");w.className="field-note",w.innerText=e.note,a.appendChild(w)}r.appendChild(a);const s=document.createElement("div");s.className="row-right";const h=document.createElement("div");h.className="type-container";const f=document.createElement("span");if(f.className="field-type",e.isUnique&&f.classList.add("constrained-type"),f.innerText=e.type,h.appendChild(f),e.enumValues&&e.enumValues.length>0){const w=this.createBadge("ENUM","enum");w.title=`Enum values: ${e.enumValues.join(", ")}`,s.appendChild(w)}if(e.isUnique&&s.appendChild(this.createBadge("UQ","unique")),e.isNotNull&&s.appendChild(this.createBadge("NN","not-null")),e.default){const w=document.createElement("div");w.className="field-default",w.innerText=`default: ${e.default}`,h.appendChild(w)}return s.appendChild(h),t.appendChild(r),t.appendChild(s),t}static createBadge(e,n){const t=document.createElement("span");return t.className=`badge ${n}`,t.innerText=e,t}}class Cn{static create(e){const n=document.createElement("div");n.className="db-table",n.id=`table-${e.id}`,n.dataset.tableName=e.name,e.width&&(n.style.width=`${e.width}px`);const t=document.createElement("div");t.className="db-table-header",e.color&&(t.style.backgroundColor=e.color);const[r,i]=e.name.includes(".")?e.name.split("."):["",e.name],a=document.createElement("div");a.className="header-title-wrapper";const m=document.createElement("span");m.className="table-icon",m.innerHTML=Q.Table,a.appendChild(m);const s=document.createElement("span");s.className="title",s.innerText=i,a.appendChild(s),t.appendChild(a);const h=document.createElement("span");if(h.className="schema-banner",h.innerText=r||"public",t.appendChild(h),e.note){const w=document.createElement("div");w.className="table-note",w.innerText=e.note,t.appendChild(w)}n.appendChild(t),e.fields.forEach(w=>{n.appendChild(Mn.create(w,e.id))});const f=document.createElement("div");return f.className="resize-handle",f.title="Drag to resize",n.appendChild(f),n}}class En{static MIN_STRAIGHT=15;static MAX_STRAIGHT=40;static LABEL_OFFSET=25;static calculatePath(e,n,t,r,i,a,m="Curve"){const s=e.y+e.height/2,h=n.y+n.height/2,f={x:e.x+e.width,y:s},w={x:e.x,y:s},b={x:n.x+n.width,y:h},k={x:n.x,y:h},N=e.x<n.x+n.width&&e.x+e.width>n.x;let p,u,L,T;N?(p=f,u=b,L=1,T=1):e.x<n.x?(p=f,u=k,L=1,T=-1):(p=w,u=b,L=-1,T=1);const S=Math.abs(u.x-p.x),B=Math.max(this.MIN_STRAIGHT,Math.min(this.MAX_STRAIGHT,S/3)),A={x:p.x+B*L,y:p.y},O={x:u.x+B*T,y:u.y};if(N){const C=Math.max(40,Math.abs(u.y-p.y)*.4);A.x=Math.max(p.x,u.x)+C,O.x=A.x}let x="";switch(m){case"Rectilinear":case"RoundRectilinear":{const C=(A.x+O.x)/2,R={x:C,y:p.y},E={x:C,y:u.y};if(m==="Rectilinear")x=`M ${p.x} ${p.y} L ${R.x} ${R.y} L ${E.x} ${E.y} L ${u.x} ${u.y}`;else{const v=Math.min(15,Math.abs(E.y-R.y)/2,Math.abs(R.x-p.x)/2),j=u.y>p.y?1:-1,Y=R.x>p.x?1:-1,_=u.x>E.x?1:-1;x=`M ${p.x} ${p.y} 
               L ${R.x-v*Y} ${R.y} 
               Q ${R.x} ${R.y} ${R.x} ${R.y+v*j} 
               L ${E.x} ${E.y-v*j} 
               Q ${E.x} ${E.y} ${E.x+v*_} ${E.y} 
               L ${u.x} ${u.y}`}break}case"Oblique":case"RoundOblique":{m==="Oblique"?x=`M ${p.x} ${p.y} L ${A.x} ${A.y} L ${O.x} ${O.y} L ${u.x} ${u.y}`:x=`M ${p.x} ${p.y} 
               L ${A.x} ${A.y} 
               Q ${(A.x+O.x)/2} ${(A.y+O.y)/2} ${O.x} ${O.y} 
               L ${u.x} ${u.y}`;break}default:{x=`M ${p.x} ${p.y} C ${A.x} ${A.y}, ${O.x} ${O.y}, ${u.x} ${u.y}`;break}}const y=this.getLabelPos(p,A),M=this.getLabelPos(u,O);return{d:x,start:p,end:u,labelStart:y,labelEnd:M,fromId:t,toId:r,fromTableId:i,toTableId:a}}static getLabelPos(e,n){const t=n.x-e.x,r=n.y-e.y,i=Math.sqrt(t*t+r*r),a=this.LABEL_OFFSET/(i||1);return{x:e.x+t*a,y:e.y+r*a}}}class Tn{static createGroup(e,n){const t=document.createElementNS("http://www.w3.org/2000/svg","g");t.classList.add("connection-group"),t.dataset.from=e.fromId,t.dataset.to=e.toId,t.dataset.fromTable=e.fromTableId,t.dataset.toTable=e.toTableId;const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",e.d),r.classList.add("relation-hit-area"),t.appendChild(r);const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",e.d),i.classList.add("relation-line-base"),t.appendChild(i);const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",e.d),a.classList.add("relation-line-flow"),t.appendChild(a),this.createLabels(e,n).forEach(s=>t.appendChild(s)),t}static createLabels(e,n){const t=this.getLabelText(n);return t?[this.createLabelBadge(t.from,e.labelStart.x,e.labelStart.y),this.createLabelBadge(t.to,e.labelEnd.x,e.labelEnd.y)]:[]}static createLabelBadge(e,n,t){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.classList.add("relation-label-group");const i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("x",(n-9).toString()),i.setAttribute("y",(t-7).toString()),i.setAttribute("width","18"),i.setAttribute("height","14"),i.setAttribute("rx","4"),i.classList.add("label-bg");const a=document.createElementNS("http://www.w3.org/2000/svg","text");return a.setAttribute("x",n.toString()),a.setAttribute("y",(t+1).toString()),a.classList.add("relation-label-text"),a.textContent=e,r.appendChild(i),r.appendChild(a),r}static getLabelText(e){switch(e){case"1:n":return{from:"1",to:"n"};case"n:1":return{from:"n",to:"1"};case"1:1":return{from:"1",to:"1"};case"m:n":return{from:"m",to:"n"};default:return null}}}class yt{static create(e){const n=document.createElementNS("http://www.w3.org/2000/svg","circle");return n.setAttribute("cx",e.x.toString()),n.setAttribute("cy",e.y.toString()),n.setAttribute("r","3.5"),n.classList.add("anchor-port"),n}}class xt{svgLayer;scale=1;container;currentRelationships=[];currentLineStyle="Curve";constructor(e){this.container=e,this.svgLayer=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svgLayer.classList.add("connection-layer"),e.appendChild(this.svgLayer),this.setupInteractions()}updateScale(e){this.scale=e}setLineStyle(e){this.currentLineStyle=e,this.draw(this.currentRelationships)}redraw(){this.draw(this.currentRelationships)}draw(e){this.currentRelationships=e,this.svgLayer.innerHTML="",e.forEach(n=>this.drawOne(n))}drawOne(e){const n=this.container.classList.contains("zoom-out-mode");let t=null,r=null;if(n?(t=document.getElementById(`table-${e.fromTable}`),r=document.getElementById(`table-${e.toTable}`)):(t=document.getElementById(`col-${e.fromTable}-${e.fromColumn}`),r=document.getElementById(`col-${e.toTable}-${e.toColumn}`),t||(t=document.getElementById(`table-${e.fromTable}`)),r||(r=document.getElementById(`table-${e.toTable}`))),!t||!r)return;const i=this.getRelativeRect(t),a=this.getRelativeRect(r),m=En.calculatePath(i,a,n?`table-${e.fromTable}`:`col-${e.fromTable}-${e.fromColumn}`,n?`table-${e.toTable}`:`col-${e.toTable}-${e.toColumn}`,`table-${e.fromTable}`,`table-${e.toTable}`,this.currentLineStyle),s=Tn.createGroup(m,e.type);if(this.svgLayer.appendChild(s),!n){const h=yt.create(m.start);h.dataset.anchorId=m.fromId,this.svgLayer.appendChild(h);const f=yt.create(m.end);f.dataset.anchorId=m.toId,this.svgLayer.appendChild(f)}}getRelativeRect(e){const n=e.getBoundingClientRect(),t=this.svgLayer.getBoundingClientRect();return{x:(n.left-t.left)/this.scale,y:(n.top-t.top)/this.scale,width:n.width/this.scale,height:n.height/this.scale}}setupInteractions(){this.container.addEventListener("mouseover",e=>this.handleHover(e,!0)),this.container.addEventListener("mouseout",e=>this.handleHover(e,!1))}handleHover(e,n){if(!n){this.clearHighlights();return}const t=e.target,r=t.closest(".connection-group");if(r){this.activateConnection(r);return}const i=t.closest(".db-table");if(i&&i.id){this.activateTable(i.id);return}const a=t.closest(".db-row");if(a&&a.id){this.activateColumn(a.id);return}}clearHighlights(){document.querySelectorAll(".highlighted").forEach(e=>e.classList.remove("highlighted"))}activateConnection(e){e.classList.add("highlighted");const n=e.dataset.from,t=e.dataset.to;n&&this.setHighlight(n),t&&this.setHighlight(t)}activateTable(e){this.setHighlight(e),this.svgLayer.querySelectorAll(`[data-from-table="${e}"], [data-to-table="${e}"]`).forEach(n=>n.classList.add("highlighted"))}activateColumn(e){this.setHighlight(e),this.svgLayer.querySelectorAll(`[data-from="${e}"], [data-to="${e}"]`).forEach(n=>{n.classList.add("highlighted");const t=n;t.dataset.from!==e&&this.setHighlight(t.dataset.from),t.dataset.to!==e&&this.setHighlight(t.dataset.to)})}setHighlight(e){e&&document.getElementById(e)?.classList.add("highlighted")}}class Nn{activeEl=null;mode="NONE";initialMouse={x:0,y:0};initialVal={x:0,y:0,width:0};scale=1;relationships=[];connectionManager;onUpdate;constructor(e,n,t){this.connectionManager=n,this.onUpdate=t,e.addEventListener("mousedown",r=>this.onMouseDown(r)),window.addEventListener("mousemove",r=>this.onMouseMove(r)),window.addEventListener("mouseup",()=>this.onMouseUp())}updateConnectionManager(e){this.connectionManager=e}setRelationships(e){this.relationships=e}updateScale(e){this.scale=e}onMouseDown(e){const n=e.target;if(n.classList.contains("resize-handle")){const r=n.closest(".db-table");r&&this.startResize(r,e);return}const t=n.closest(".db-table-header");if(t){const r=t.parentElement;r&&this.startDrag(r,e);return}}startDrag(e,n){this.mode="DRAG",this.activeEl=e,this.initialVal.x=e.offsetLeft,this.initialVal.y=e.offsetTop,this.initialMouse={x:n.clientX,y:n.clientY},n.stopPropagation(),n.preventDefault(),e.classList.add("dragging")}startResize(e,n){this.mode="RESIZE",this.activeEl=e,this.initialVal.width=e.offsetWidth,this.initialMouse={x:n.clientX,y:n.clientY},n.stopPropagation(),n.preventDefault(),e.classList.add("resizing"),document.body.style.cursor="col-resize"}onMouseMove(e){if(this.activeEl){if(this.mode==="DRAG"){const n=(e.clientX-this.initialMouse.x)/this.scale,t=(e.clientY-this.initialMouse.y)/this.scale;this.activeEl.style.left=`${this.initialVal.x+n}px`,this.activeEl.style.top=`${this.initialVal.y+t}px`,this.activeEl.style.transform="none",this.connectionManager.draw(this.relationships)}else if(this.mode==="RESIZE"){const n=(e.clientX-this.initialMouse.x)/this.scale,t=Math.max(200,this.initialVal.width+n);this.activeEl.style.width=`${t}px`,this.connectionManager.draw(this.relationships)}}}onMouseUp(){if(!this.activeEl)return;const e=this.activeEl,n=e.querySelector(".title"),t=e.dataset&&e.dataset.tableName||(n?n.textContent||"":e.id.replace("table-",""));if(t){const r=Math.round(parseInt(e.style.left||"0",10)),i=Math.round(parseInt(e.style.top||"0",10)),a=Math.round(e.getBoundingClientRect().width/this.scale);this.onUpdate(t,r,i,a)}e.classList.remove("dragging"),e.classList.remove("resizing"),document.body.style.cursor="",this.activeEl=null,this.mode="NONE"}}function Rn(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var ue={exports:{}},bt;function kn(){if(bt)return ue.exports;bt=1,ue.exports=d,ue.exports.addWheelListener=d,ue.exports.removeWheelListener=e;function d(n,t,r){n.addEventListener("wheel",t,r)}function e(n,t,r){n.removeEventListener("wheel",t,r)}return ue.exports}var de={exports:{}},$e,Lt;function Bn(){if(Lt)return $e;Lt=1;var d=4,e=.001,n=1e-7,t=10,r=11,i=1/(r-1),a=typeof Float32Array=="function";function m(p,u){return 1-3*u+3*p}function s(p,u){return 3*u-6*p}function h(p){return 3*p}function f(p,u,L){return((m(u,L)*p+s(u,L))*p+h(u))*p}function w(p,u,L){return 3*m(u,L)*p*p+2*s(u,L)*p+h(u)}function b(p,u,L,T,S){var B,A,O=0;do A=u+(L-u)/2,B=f(A,T,S)-p,B>0?L=A:u=A;while(Math.abs(B)>n&&++O<t);return A}function k(p,u,L,T){for(var S=0;S<d;++S){var B=w(u,L,T);if(B===0)return u;var A=f(u,L,T)-p;u-=A/B}return u}function N(p){return p}return $e=function(u,L,T,S){if(!(0<=u&&u<=1&&0<=T&&T<=1))throw new Error("bezier x values must be in [0, 1] range");if(u===L&&T===S)return N;for(var B=a?new Float32Array(r):new Array(r),A=0;A<r;++A)B[A]=f(A*i,u,T);function O(x){for(var y=0,M=1,C=r-1;M!==C&&B[M]<=x;++M)y+=i;--M;var R=(x-B[M])/(B[M+1]-B[M]),E=y+R*i,v=w(E,u,T);return v>=e?k(x,E,u,T):v===0?E:b(x,y,y+i,u,T)}return function(y){return y===0?0:y===1?1:f(O(y),L,S)}},$e}var St;function An(){if(St)return de.exports;St=1;var d=Bn(),e={ease:d(.25,.1,.25,1),easeIn:d(.42,0,1,1),easeOut:d(0,0,.58,1),easeInOut:d(.42,0,.58,1),linear:d(0,0,1,1)};de.exports=n,de.exports.makeAggregateRaf=m,de.exports.sharedScheduler=m();function n(s,h,f){var w=Object.create(null),b=Object.create(null);f=f||{};var k=typeof f.easing=="function"?f.easing:e[f.easing];k||(f.easing&&console.warn("Unknown easing function in amator: "+f.easing),k=e.ease);var N=typeof f.step=="function"?f.step:t,p=typeof f.done=="function"?f.done:t,u=r(f.scheduler),L=Object.keys(h);L.forEach(function(M){w[M]=s[M],b[M]=h[M]-s[M]});var T=typeof f.duration=="number"?f.duration:400,S=Math.max(1,T*.06),B,A=0;return B=u.next(x),{cancel:O};function O(){u.cancel(B),B=0}function x(){var M=k(A/S);A+=1,y(M),A<=S?(B=u.next(x),N(s)):(B=0,setTimeout(function(){p(s)},0))}function y(M){L.forEach(function(C){s[C]=b[C]*M+w[C]})}}function t(){}function r(s){if(!s){var h=typeof window<"u"&&window.requestAnimationFrame;return h?i():a()}if(typeof s.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof s.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return s}function i(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function a(){return{next:function(s){return setTimeout(s,1e3/60)},cancel:function(s){return clearTimeout(s)}}}function m(){var s=new Set,h=new Set,f=0;return{next:b,cancel:b,clearAll:w};function w(){s.clear(),h.clear(),cancelAnimationFrame(f),f=0}function b(p){h.add(p),k()}function k(){f||(f=requestAnimationFrame(N))}function N(){f=0;var p=h;h=s,s=p,s.forEach(function(u){u()}),s.clear()}}return de.exports}var ze,Mt;function On(){if(Mt)return ze;Mt=1;function d(t){n(t);const r=e(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t}function e(t){let r=Object.create(null);return{on:function(i,a,m){if(typeof a!="function")throw new Error("callback is expected to be a function");let s=r[i];return s||(s=r[i]=[]),s.push({callback:a,ctx:m}),t},off:function(i,a){if(typeof i>"u")return r=Object.create(null),t;if(r[i])if(typeof a!="function")delete r[i];else{const m=r[i];for(let s=0;s<m.length;++s)m[s].callback===a&&m.splice(s,1)}return t},fire:function(i){const a=r[i];if(!a)return t;let m;arguments.length>1&&(m=Array.prototype.slice.call(arguments,1));for(let s=0;s<a.length;++s){const h=a[s];h.callback.apply(h.ctx,m)}return t}}}function n(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");const r=["on","fire","off"];for(let i=0;i<r.length;++i)if(t.hasOwnProperty(r[i]))throw new Error("Subject cannot be eventified, since it already has property '"+r[i]+"'")}return ze=d,ze}var Ie,Ct;function $n(){if(Ct)return Ie;Ct=1,Ie=d;function d(t,r,i){typeof i!="object"&&(i={});var a=typeof i.minVelocity=="number"?i.minVelocity:5,m=typeof i.amplitude=="number"?i.amplitude:.25,s=typeof i.cancelAnimationFrame=="function"?i.cancelAnimationFrame:e(),h=typeof i.requestAnimationFrame=="function"?i.requestAnimationFrame:n(),f,w,b=342,k,N,p,u,L,T,S,B;return{start:O,stop:y,cancel:A};function A(){s(k),s(B)}function O(){f=t(),u=S=N=L=0,w=new Date,s(k),s(B),k=h(x)}function x(){var C=Date.now(),R=C-w;w=C;var E=t(),v=E.x-f.x,j=E.y-f.y;f=E;var Y=1e3/(1+R);N=.8*v*Y+.2*N,L=.8*j*Y+.2*L,k=h(x)}function y(){s(k),s(B);var C=t();p=C.x,T=C.y,w=Date.now(),(N<-a||N>a)&&(u=m*N,p+=u),(L<-a||L>a)&&(S=m*L,T+=S),B=h(M)}function M(){var C=Date.now()-w,R=!1,E=0,v=0;u&&(E=-u*Math.exp(-C/b),E>.5||E<-.5?R=!0:E=u=0),S&&(v=-S*Math.exp(-C/b),v>.5||v<-.5?R=!0:v=S=0),R&&(r(p+E,T+v),B=h(M))}}function e(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function n(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(t){return setTimeout(t,16)}}return Ie}var Ze,Et;function zn(){if(Et)return Ze;Et=1,Ze=d;function d(t){if(t)return{capture:n,release:n};var r,i,a,m=!1;return{capture:s,release:h};function s(f){m=!0,i=window.document.onselectstart,a=window.document.ondragstart,window.document.onselectstart=e,r=f,r.ondragstart=e}function h(){m&&(m=!1,window.document.onselectstart=i,r&&(r.ondragstart=a))}}function e(t){return t.stopPropagation(),!1}function n(){}return Ze}var Pe,Tt;function In(){if(Tt)return Pe;Tt=1,Pe=d;function d(){this.x=0,this.y=0,this.scale=1}return Pe}var xe={exports:{}},Nt;function Zn(){if(Nt)return xe.exports;Nt=1,xe.exports=d,xe.exports.canAttach=e;function d(n,t){if(!e(n))throw new Error("svg element is required for svg.panzoom to work");var r=n.ownerSVGElement;if(!r)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");t.disableKeyboardInteraction||r.setAttribute("tabindex",0);var i={getBBox:m,getScreenCTM:s,getOwner:a,applyTransform:f,initTransform:h};return i;function a(){return r}function m(){var w=n.getBBox();return{left:w.x,top:w.y,width:w.width,height:w.height}}function s(){var w=r.getCTM();return w||r.getScreenCTM()}function h(w){var b=n.getCTM();b===null&&(b=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),w.x=b.e,w.y=b.f,w.scale=b.a,r.removeAttributeNS(null,"viewBox")}function f(w){n.setAttribute("transform","matrix("+w.scale+" 0 0 "+w.scale+" "+w.x+" "+w.y+")")}}function e(n){return n&&n.ownerSVGElement&&n.getCTM}return xe.exports}var be={exports:{}},Rt;function Pn(){if(Rt)return be.exports;Rt=1,be.exports=d,be.exports.canAttach=e;function d(n,t){var r=e(n);if(!r)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var i=n.parentElement;n.scrollTop=0,t.disableKeyboardInteraction||i.setAttribute("tabindex",0);var a={getBBox:s,getOwner:m,applyTransform:h};return a;function m(){return i}function s(){return{left:0,top:0,width:n.clientWidth,height:n.clientHeight}}function h(f){n.style.transformOrigin="0 0 0",n.style.transform="matrix("+f.scale+", 0, 0, "+f.scale+", "+f.x+", "+f.y+")"}}function e(n){return n&&n.parentElement&&n.style}return be.exports}var De,kt;function Dn(){if(kt)return De;kt=1;var d=kn(),e=An(),n=On(),t=$n(),r=zn(),i=r(),a=r(!0),m=In(),s=Zn(),h=Pn(),f=1,w=1.75,b=300,k=200;De=N;function N(x,y){y=y||{};var M=y.controller;if(M||(s.canAttach(x)?M=s(x,y):h.canAttach(x)&&(M=h(x,y))),!M)throw new Error("Cannot create panzoom for the current type of dom element");var C=M.getOwner(),R={x:0,y:0},E=!1,v=new m;M.initTransform&&M.initTransform(v);var j=typeof y.filterKey=="function"?y.filterKey:L,Y=typeof y.pinchSpeed=="number"?y.pinchSpeed:1,_=y.bounds,Z=typeof y.maxZoom=="number"?y.maxZoom:Number.POSITIVE_INFINITY,D=typeof y.minZoom=="number"?y.minZoom:0,V=typeof y.boundsPadding=="number"?y.boundsPadding:.05,q=typeof y.zoomDoubleClickSpeed=="number"?y.zoomDoubleClickSpeed:w,Le=y.beforeWheel||L,ne=y.beforeMouseDown||L,Se=typeof y.zoomSpeed=="number"?y.zoomSpeed:f,U=p(y.transformOrigin),Me=y.enableTextSelection?a:i;T(_),y.autocenter&&Pt();var re,He=0,Ge=0,oe=0,je=null,_e=new Date,Ce,ie=!1,ae=!1,F,H,Ee,Te,Ne,G;"smoothScroll"in y&&!y.smoothScroll?G=A():G=t(Wt,Jt,y.smoothScroll);var Re,se,fe,he=!1;Je();var me={dispose:en,moveBy:J,moveTo:ke,smoothMoveTo:Qt,centerOn:Kt,zoomTo:we,zoomAbs:pe,smoothZoom:ge,smoothZoomAbs:cn,showRectangle:Zt,pause:$t,resume:zt,isPaused:It,getTransform:Dt,getMinZoom:Vt,setMinZoom:qt,getMaxZoom:Ft,setMaxZoom:Ht,getTransformOrigin:Gt,setTransformOrigin:jt,getZoomSpeed:_t,setZoomSpeed:Ut};n(me);var Ue=typeof y.initialX=="number"?y.initialX:v.x,We=typeof y.initialY=="number"?y.initialY:v.y,Ye=typeof y.initialZoom=="number"?y.initialZoom:v.scale;return(Ue!=v.x||We!=v.y||Ye!=v.scale)&&pe(Ue,We,Ye),me;function $t(){et(),he=!0}function zt(){he&&(Je(),he=!1)}function It(){return he}function Zt(o){var c=C.getBoundingClientRect(),l=X(c.width,c.height),g=o.right-o.left,$=o.bottom-o.top;if(!Number.isFinite(g)||!Number.isFinite($))throw new Error("Invalid rectangle");var z=l.x/g,I=l.y/$,P=Math.min(z,I);v.x=-(o.left+g/2)*P+l.x/2,v.y=-(o.top+$/2)*P+l.y/2,v.scale=P}function X(o,c){if(M.getScreenCTM){var l=M.getScreenCTM(),g=l.a,$=l.d,z=l.e,I=l.f;R.x=o*g-z,R.y=c*$-I}else R.x=o,R.y=c;return R}function Pt(){var o,c,l=0,g=0,$=Ke();if($)l=$.left,g=$.top,o=$.right-$.left,c=$.bottom-$.top;else{var z=C.getBoundingClientRect();o=z.width,c=z.height}var I=M.getBBox();if(!(I.width===0||I.height===0)){var P=c/I.height,te=o/I.width,K=Math.min(te,P);v.x=-(I.left+I.width/2)*K+o/2+l,v.y=-(I.top+I.height/2)*K+c/2+g,v.scale=K}}function Dt(){return v}function Vt(){return D}function qt(o){D=o}function Ft(){return Z}function Ht(o){Z=o}function Gt(){return U}function jt(o){U=p(o)}function _t(){return Se}function Ut(o){if(!Number.isFinite(o))throw new Error("Zoom speed should be a number");Se=o}function Wt(){return{x:v.x,y:v.y}}function ke(o,c){v.x=o,v.y=c,Be(),ee("pan"),Ae()}function Xe(o,c){ke(v.x+o,v.y+c)}function Be(){var o=Ke();if(o){var c=!1,l=Yt(),g=o.left-l.right;return g>0&&(v.x+=g,c=!0),g=o.right-l.left,g<0&&(v.x+=g,c=!0),g=o.top-l.bottom,g>0&&(v.y+=g,c=!0),g=o.bottom-l.top,g<0&&(v.y+=g,c=!0),c}}function Ke(){if(_){if(typeof _=="boolean"){var o=C.getBoundingClientRect(),c=o.width,l=o.height;return{left:c*V,top:l*V,right:c*(1-V),bottom:l*(1-V)}}return _}}function Yt(){var o=M.getBBox(),c=Xt(o.left,o.top);return{left:c.x,top:c.y,right:o.width*v.scale+c.x,bottom:o.height*v.scale+c.y}}function Xt(o,c){return{x:o*v.scale+v.x,y:c*v.scale+v.y}}function Ae(){E=!0,re=window.requestAnimationFrame(tn)}function Qe(o,c,l){if(B(o)||B(c)||B(l))throw new Error("zoom requires valid numbers");var g=v.scale*l;if(g<D){if(v.scale===D)return;l=D/v.scale}if(g>Z){if(v.scale===Z)return;l=Z/v.scale}var $=X(o,c);if(v.x=$.x-l*($.x-v.x),v.y=$.y-l*($.y-v.y),_&&V===1&&D===1)v.scale*=l,Be();else{var z=Be();z||(v.scale*=l)}ee("zoom"),Ae()}function pe(o,c,l){var g=l/v.scale;Qe(o,c,g)}function Kt(o){var c=o.ownerSVGElement;if(!c)throw new Error("ui element is required to be within the scene");var l=o.getBoundingClientRect(),g=l.left+l.width/2,$=l.top+l.height/2,z=c.getBoundingClientRect(),I=z.width/2-g,P=z.height/2-$;J(I,P,!0)}function Qt(o,c){J(o-v.x,c-v.y,!0)}function J(o,c,l){if(!l)return Xe(o,c);Re&&Re.cancel();var g={x:0,y:0},$={x:o,y:c},z=0,I=0;Re=e(g,$,{step:function(P){Xe(P.x-z,P.y-I),z=P.x,I=P.y}})}function Jt(o,c){ye(),ke(o,c)}function en(){et()}function Je(){C.addEventListener("mousedown",ct,{passive:!1}),C.addEventListener("dblclick",st,{passive:!1}),C.addEventListener("touchstart",nt,{passive:!1}),C.addEventListener("keydown",tt,{passive:!1}),d.addWheelListener(C,ht,{passive:!1}),Ae()}function et(){d.removeWheelListener(C,ht),C.removeEventListener("mousedown",ct),C.removeEventListener("keydown",tt),C.removeEventListener("dblclick",st),C.removeEventListener("touchstart",nt),re&&(window.cancelAnimationFrame(re),re=0),G.cancel(),dt(),ft(),Me.release(),Oe()}function tn(){E&&nn()}function nn(){E=!1,M.applyTransform(v),ee("transform"),re=0}function tt(o){var c=0,l=0,g=0;if(o.keyCode===38?l=1:o.keyCode===40?l=-1:o.keyCode===37?c=1:o.keyCode===39?c=-1:o.keyCode===189||o.keyCode===109?g=1:(o.keyCode===187||o.keyCode===107)&&(g=-1),!j(o,c,l,g)){if(c||l){o.preventDefault(),o.stopPropagation();var $=C.getBoundingClientRect(),z=Math.min($.width,$.height),I=.05,P=z*I*c,te=z*I*l;J(P,te)}if(g){var K=mt(g*100),z=U?le():rn();we(z.x,z.y,K)}}}function rn(){var o=C.getBoundingClientRect();return{x:o.width/2,y:o.height/2}}function nt(o){if(on(o),ce(),o.touches.length===1)return sn(o,o.touches[0]);o.touches.length===2&&(Ne=at(o.touches[0],o.touches[1]),fe=!0,rt())}function on(o){y.onTouch&&!y.onTouch(o)||(o.stopPropagation(),o.preventDefault())}function an(o){ce(),!(y.onDoubleClick&&!y.onDoubleClick(o))&&(o.preventDefault(),o.stopPropagation())}function sn(o){Ge=new Date;var c=o.touches[0],l=W(c);Ce=l;var g=X(l.x,l.y);F=g.x,H=g.y,Ee=F,Te=H,G.cancel(),rt()}function rt(){ie||(ie=!0,document.addEventListener("touchmove",ot),document.addEventListener("touchend",ve),document.addEventListener("touchcancel",ve))}function ot(o){if(o.touches.length===1){o.stopPropagation();var c=o.touches[0],l=W(c),g=X(l.x,l.y),$=g.x-F,z=g.y-H;$!==0&&z!==0&&pt(),F=g.x,H=g.y,J($,z)}else if(o.touches.length===2){fe=!0;var I=o.touches[0],P=o.touches[1],te=at(I,P),K=1+(te/Ne-1)*Y,vt=W(I),gt=W(P);if(F=(vt.x+gt.x)/2,H=(vt.y+gt.y)/2,U){var l=le();F=l.x,H=l.y}we(F,H,K),Ne=te,o.stopPropagation(),o.preventDefault()}}function ce(){oe&&(clearTimeout(oe),oe=0)}function it(o){if(y.onClick){ce();var c=F-Ee,l=H-Te,g=Math.sqrt(c*c+l*l);g>5||(oe=setTimeout(function(){oe=0,y.onClick(o)},b))}}function ve(o){if(ce(),o.touches.length>0){var c=W(o.touches[0]),l=X(c.x,c.y);F=l.x,H=l.y}else{var g=new Date;if(g-He<b)if(U){var c=le();ge(c.x,c.y,q)}else ge(Ce.x,Ce.y,q);else g-Ge<k&&it(o);He=g,Oe(),ft()}}function at(o,c){var l=o.clientX-c.clientX,g=o.clientY-c.clientY;return Math.sqrt(l*l+g*g)}function st(o){an(o);var c=W(o);U&&(c=le()),ge(c.x,c.y,q)}function ct(o){if(ce(),!ne(o)){if(je=o,_e=new Date,ie)return o.stopPropagation(),!1;var c=o.button===1&&window.event!==null||o.button===0;if(c){G.cancel();var l=W(o),g=X(l.x,l.y);return Ee=F=g.x,Te=H=g.y,document.addEventListener("mousemove",lt),document.addEventListener("mouseup",ut),Me.capture(o.target||o.srcElement),!1}}}function lt(o){if(!ie){pt();var c=W(o),l=X(c.x,c.y),g=l.x-F,$=l.y-H;F=l.x,H=l.y,J(g,$)}}function ut(){var o=new Date;o-_e<k&&it(je),Me.release(),Oe(),dt()}function dt(){document.removeEventListener("mousemove",lt),document.removeEventListener("mouseup",ut),ae=!1}function ft(){document.removeEventListener("touchmove",ot),document.removeEventListener("touchend",ve),document.removeEventListener("touchcancel",ve),ae=!1,fe=!1,ie=!1}function ht(o){if(!Le(o)){G.cancel();var c=o.deltaY;o.deltaMode>0&&(c*=100);var l=mt(c);if(l!==1){var g=U?le():W(o);we(g.x,g.y,l),o.preventDefault()}}}function W(o){var c,l,g=C.getBoundingClientRect();return c=o.clientX-g.left,l=o.clientY-g.top,{x:c,y:l}}function ge(o,c,l){var g=v.scale,$={scale:g},z={scale:l*g};G.cancel(),ye(),se=e($,z,{step:function(I){pe(o,c,I.scale)},done:ln})}function cn(o,c,l){var g=v.scale,$={scale:g},z={scale:l};G.cancel(),ye(),se=e($,z,{step:function(I){pe(o,c,I.scale)}})}function le(){var o=C.getBoundingClientRect();return{x:o.width*U.x,y:o.height*U.y}}function we(o,c,l){return G.cancel(),ye(),Qe(o,c,l)}function ye(){se&&(se.cancel(),se=null)}function mt(o){var c=Math.sign(o),l=Math.min(.25,Math.abs(Se*o/128));return 1-c*l}function pt(){ae||(ee("panstart"),ae=!0,G.start())}function Oe(){ae&&(fe||G.stop(),ee("panend"))}function ln(){ee("zoomend")}function ee(o){me.fire(o,me)}}function p(x){if(x){if(typeof x=="object")return(!S(x.x)||!S(x.y))&&u(x),x;u()}}function u(x){throw console.error(x),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function L(){}function T(x){var y=typeof x;if(!(y==="undefined"||y==="boolean")){var M=S(x.left)&&S(x.top)&&S(x.bottom)&&S(x.right);if(!M)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function S(x){return Number.isFinite(x)}function B(x){return Number.isNaN?Number.isNaN(x):x!==x}function A(){return{start:L,stop:L,cancel:L}}function O(){if(typeof document>"u")return;var x=document.getElementsByTagName("script");if(!x)return;for(var y,M=0;M<x.length;++M){var C=x[M];if(C.src&&C.src.match(/\bpanzoom(\.min)?\.js/)){y=C;break}}if(!y)return;var R=y.getAttribute("query");if(!R)return;var E=y.getAttribute("name")||"pz",v=Date.now();j();function j(){var Z=document.querySelector(R);if(!Z){var D=Date.now(),V=D-v;if(V<2e3){setTimeout(j,100);return}console.error("Cannot find the panzoom element",E);return}var q=Y(y);console.log(q),window[E]=N(Z,q)}function Y(Z){for(var D=Z.attributes,V={},q=0;q<D.length;++q){var Le=D[q],ne=_(Le);ne&&(V[ne.name]=ne.value)}return V}function _(Z){if(Z.name){var D=Z.name[0]==="p"&&Z.name[1]==="z"&&Z.name[2]==="-";if(D){var V=Z.name.substr(3),q=JSON.parse(Z.value);return{name:V,value:q}}}}}return O(),De}var Vn=Dn();const qn=Rn(Vn);class Fn{pz;currentScale=1;currentX=0;currentY=0;constructor(e,n,t){this.pz=qn(e,{maxZoom:3,minZoom:.2,bounds:!1,beforeMouseDown:i=>i.target.closest(".db-table")!==null});const r=i=>{const a=i.getTransform();this.currentScale=a.scale,this.currentX=a.x||0,this.currentY=a.y||0,n(this.currentScale),t&&t(this.currentScale,this.currentX,this.currentY)};this.pz.on("zoom",r),this.pz.on("pan",r),this.pz.on("transform",r),this.resetView()}getScale(){return this.currentScale}getTransform(){return{scale:this.currentScale,x:this.currentX,y:this.currentY}}setTransform(e,n,t){this.pz.zoomAbs(0,0,1),this.pz.moveTo(n,t),this.pz.zoomAbs(0,0,e),this.currentScale=e,this.currentX=n,this.currentY=t}zoomIn(){const e=window.innerWidth/2,n=window.innerHeight/2;this.pz.smoothZoom(e,n,1.25)}zoomOut(){const e=window.innerWidth/2,n=window.innerHeight/2;this.pz.smoothZoom(e,n,.8)}resetView(){const e=window.innerWidth/2,n=window.innerHeight/2;this.pz.moveTo(e,n),this.pz.zoomAbs(0,0,1),this.currentX=e,this.currentY=n,this.currentScale=1}dispose(){this.pz.dispose()}}class Bt{el;container;constructor(e,n,t){this.container=e,this.el=document.createElement("div"),this.el.className="schema-hud";const r=document.createElement("div");r.className="hud-group";const i=this.createButton(Q.Grid,"Toggle Grid"),a=e.classList.contains("grid-visible");i.dataset.state=a?"on":"off",a&&i.classList.add("active"),i.onclick=()=>{const S=!(i.dataset.state==="on");i.dataset.state=S?"on":"off",i.classList.toggle("active",S),S?this.container.classList.add("grid-visible"):this.container.classList.remove("grid-visible"),this.dispatchProjectSettingsChange({showGrid:S})},r.appendChild(i);const m=document.createElement("div");m.className="hud-group";const s=[{value:"Curve",text:"Curve"},{value:"Rectilinear",text:"Rectilinear"},{value:"RoundRectilinear",text:"Round Rectilinear"},{value:"Oblique",text:"Oblique"},{value:"RoundOblique",text:"Round Oblique"}],h=document.createElement("div");h.className="custom-select";const f=document.createElement("div");f.className="select-trigger",f.title="Connection Line Style";const w=document.createElement("span");w.innerText="Curve",f.appendChild(w);const b=document.createElement("div");b.className="select-arrow",b.innerHTML=Q.ChevronUp,f.appendChild(b);const k=document.createElement("div");k.className="select-options",f.onclick=T=>{T.stopPropagation(),h.classList.toggle("open")},window.addEventListener("click",T=>{h.contains(T.target)||h.classList.remove("open")}),s.forEach(T=>{const S=document.createElement("div");S.className="select-option",S.innerText=T.text,S.onclick=()=>{w.innerText=T.text,h.querySelectorAll(".select-option").forEach(B=>B.classList.remove("selected")),S.classList.add("selected"),h.classList.remove("open"),t.setLineStyle(T.value),this.dispatchProjectSettingsChange({lineStyle:T.value})},T.value==="Curve"&&S.classList.add("selected"),k.appendChild(S)}),h.appendChild(f),h.appendChild(k),m.appendChild(h);const N=document.createElement("div");N.className="hud-group";const p=this.createButton(Q.ZoomIn,"Zoom In");p.onclick=()=>n.zoomIn();const u=this.createButton(Q.ZoomOut,"Zoom Out");u.onclick=()=>n.zoomOut();const L=this.createButton(Q.Center,"Reset View");L.onclick=()=>n.resetView(),N.append(u,L,p),this.el.append(r,m,N),e.appendChild(this.el)}createButton(e,n){const t=document.createElement("button");return t.className="hud-btn",t.innerHTML=e,t.title=n,t}dispatchProjectSettingsChange(e){const n=new CustomEvent("project-settings-changed",{detail:e});this.container.dispatchEvent(n)}}class Hn{container;wrapper;connectionManager;dragManager;panZoomManager;hud;isZoomOutMode=!1;parsers={dbml:new vn};constructor(e,n,t){this.container=document.getElementById(e),this.wrapper=document.createElement("div"),this.wrapper.className="schema-wrapper",this.container.appendChild(this.wrapper),this.connectionManager=new xt(this.wrapper),this.dragManager=new Nn(this.wrapper,this.connectionManager,n),this.panZoomManager=new Fn(this.wrapper,r=>{this.dragManager.updateScale(r),this.connectionManager.updateScale(r),this.container.style.setProperty("--zoom",r.toString());const i=r<.5;i!==this.isZoomOutMode&&(this.isZoomOutMode=i,this.isZoomOutMode?this.wrapper.classList.add("zoom-out-mode"):this.wrapper.classList.remove("zoom-out-mode"),this.connectionManager.redraw())},(r,i,a)=>{this.dragManager.updateScale(r),this.connectionManager.updateScale(r),this.container.style.setProperty("--zoom",r.toString()),this.container.style.setProperty("--pan-x",`${i}px`),this.container.style.setProperty("--pan-y",`${a}px`);const m=r<.5;m!==this.isZoomOutMode&&(this.isZoomOutMode=m,this.isZoomOutMode?this.wrapper.classList.add("zoom-out-mode"):this.wrapper.classList.remove("zoom-out-mode"),this.connectionManager.redraw()),t&&t(r,i,a)}),this.hud=new Bt(this.container,this.panZoomManager,this.connectionManager)}render(e,n){this.wrapper.innerHTML="",this.connectionManager=new xt(this.wrapper),this.dragManager.updateConnectionManager(this.connectionManager);const t=this.panZoomManager.getTransform();if(this.connectionManager.updateScale(t.scale),this.dragManager.updateScale(t.scale),this.container.querySelector(".schema-hud")?.remove(),this.hud=new Bt(this.container,this.panZoomManager,this.connectionManager),this.container.style.setProperty("--zoom",t.scale.toString()),this.container.style.setProperty("--pan-x",`${t.x}px`),this.container.style.setProperty("--pan-y",`${t.y}px`),this.isZoomOutMode=t.scale<.5,this.isZoomOutMode?this.wrapper.classList.add("zoom-out-mode"):this.wrapper.classList.remove("zoom-out-mode"),!!n.trim())try{let r=(e||"").toLowerCase().trim();r.startsWith(".")&&(r=r.slice(1));const i=this.parsers[r];if(!i)throw new Error(`Unsupported format: ${e}`);const{tables:a,relationships:m,projectSettings:s}=i.parse(n);if(s){if(s.zoom!==void 0||s.panX!==void 0){const k=s.zoom||1,N=s.panX||0,p=s.panY||0;this.panZoomManager.setTransform(k,N,p),this.isZoomOutMode=k<.5,this.isZoomOutMode?this.wrapper.classList.add("zoom-out-mode"):this.wrapper.classList.remove("zoom-out-mode"),this.container.style.setProperty("--zoom",k.toString()),this.container.style.setProperty("--pan-x",`${N}px`),this.container.style.setProperty("--pan-y",`${p}px`)}s.showGrid==="true"||s.showGrid===!0?this.container.classList.add("grid-visible"):this.container.classList.remove("grid-visible"),s.lineStyle&&this.connectionManager.setLineStyle(s.lineStyle)}const h=350,f=300,w=3;a.forEach((b,k)=>{const N=Cn.create(b);this.wrapper.appendChild(N);let p=b.x!==void 0?b.x:50+k%w*h,u=b.y!==void 0?b.y:50+Math.floor(k/w)*f;if(N.style.left=`${p}px`,N.style.top=`${u}px`,b.width&&(N.style.width=`${b.width}px`),b.color){const L=N.querySelector(".db-table-header");L&&(L.style.backgroundColor=b.color)}}),this.dragManager.setRelationships(m),setTimeout(()=>{this.connectionManager.draw(m)},0)}catch(r){console.error(r),this.wrapper.innerHTML=`<div class="error" style="padding:20px; color:red;">Error: ${r.message}</div>`}}}const Fe=new un(d=>{switch(d.type){case"UPDATE_CONTENT":Gn.render(d.format,d.content);break;case"UPDATE_THEME":_n(d.theme);break}}),Gn=new Hn("app",(d,e,n,t)=>{Fe.send({type:"UPDATE_TABLE_POS",tableName:d,x:e,y:n,width:t})}),jn=document.getElementById("app");jn.addEventListener("project-settings-changed",d=>{const e=d.detail||{};Fe.send({type:"UPDATE_PROJECT_SETTINGS",settings:{lineStyle:e.lineStyle,showGrid:e.showGrid}})});function _n(d){d==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")}Fe.log("Webview Initialized & Ready");</script>
  <style rel="stylesheet" crossorigin>:root{--icon-pk: #d97706;--icon-fk: #2563eb;--icon-pk-fk: #16a34a;--icon-default: var(--text-secondary)}body.dark{--icon-pk: #fbbf24;--icon-fk: #60a5fa;--icon-pk-fk: #4ade80}.icon-container svg{width:100%;height:100%;display:block;fill:none;stroke:currentColor;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round}.icon-container.fill-mode svg{fill:currentColor;stroke:none}.key-icon{width:14px;height:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:2px;color:var(--icon-default)}.key-icon svg{width:100%;height:100%;stroke:currentColor;fill:none}.key-icon.pk{color:var(--icon-pk)}.key-icon.fk{color:var(--icon-fk)}.key-icon.pk-fk{color:var(--icon-pk-fk)}.key-icon.empty{width:14px}.table-icon{width:16px;height:16px;display:flex;align-items:center;justify-content:center;opacity:.9;color:var(--header-text)}.table-icon svg{width:100%;height:100%;stroke:currentColor;fill:none}.hud-btn svg,.select-arrow svg{width:18px;height:18px;stroke:currentColor;fill:none}.select-arrow svg{width:12px;height:12px}.db-table{position:absolute;top:0;left:0;min-width:200px;width:auto;background:var(--table-bg);border:1px solid var(--table-border);border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1;display:flex;flex-direction:column;transition:box-shadow .2s}.db-table.dragging,.db-table.resizing{box-shadow:0 10px 15px #0003;z-index:100}.db-table.dragging{cursor:grabbing}.db-table.resizing{cursor:col-resize}.db-table-header{background:var(--header-bg);color:var(--header-text);padding:6px 8px;font-weight:700;border-top-left-radius:8px;border-top-right-radius:8px;cursor:grab;display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;gap:2px}.db-table-header:active{cursor:grabbing}.header-title-wrapper{display:flex;align-items:center;gap:4px}.title{font-size:14px;line-height:1.2}.schema-banner{background:#0006;padding:4px 6px;border-radius:4px;font-size:11px}.table-note{font-size:11px;color:#fffc;margin-top:0;width:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.resize-handle{position:absolute;top:0;right:0;width:12px;height:100%;cursor:col-resize;z-index:50;background:transparent;border-right:4px solid rgba(0,0,0,.1);transition:all .2s;border-top-right-radius:8px;border-bottom-right-radius:8px}.resize-handle:hover,.db-table.resizing .resize-handle{background-color:#3b82f61a;border-right:4px solid var(--header-bg)}body.dark .resize-handle{border-right:4px solid rgba(255,255,255,.1)}body.dark .resize-handle:hover{border-right:4px solid var(--header-bg)}.schema-wrapper.zoom-out-mode .db-row,.schema-wrapper.zoom-out-mode .resize-handle{display:none}.schema-wrapper.zoom-out-mode .db-table{padding-bottom:0;min-width:unset}.schema-wrapper.zoom-out-mode .db-table-header{border-bottom-left-radius:7px;border-bottom-right-radius:7px}.db-row{display:flex;justify-content:space-between;padding:6px;border-bottom:1px solid var(--table-border);font-size:12px;line-height:1.2;position:relative;transition:background-color .15s ease}.db-row:hover{background-color:#7d7d7d0d}.db-row:last-child{border-bottom:none;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.indexed-row{background:linear-gradient(to right,rgba(var(--header-rgb),.08),transparent)}.row-left{display:flex;align-items:flex-start;gap:8px;flex:1;min-width:0;padding-right:8px}.name-container{display:flex;flex-direction:column;overflow:hidden}.field-name{font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.field-note{font-size:11px;color:var(--text-secondary);margin-top:2px;line-height:1.2;font-style:italic;opacity:.8}.row-right{display:flex;align-items:flex-start;justify-content:flex-end;gap:6px;flex-shrink:0}.type-container{display:flex;flex-direction:column;align-items:flex-end}.field-type{color:var(--text-secondary);font-size:11px;font-family:SF Mono,Monaco,Menlo,Courier New,monospace;text-align:right;background:#9696961a;padding:1px 4px;#border-radius: 4px}.constrained-type{text-decoration-color:var(--header-bg);text-decoration-thickness:2px}.field-default{font-size:10px;color:var(--text-secondary);opacity:.7;text-align:right;margin-top:2px;max-width:100px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.badge{font-size:9px;height:12px;padding:0 6px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-weight:700;letter-spacing:.5px;text-transform:uppercase;box-shadow:0 1px 2px #0000000d}.badge.unique{background:#f3e8ff;color:#7e22ce;border:1px solid rgba(126,34,206,.1)}.badge.not-null{background:#f3f4f6;color:#4b5563;border:1px solid rgba(75,85,99,.1)}.badge.enum{background:#ecfdf5;color:#047857;border:1px solid rgba(4,120,87,.1)}body.dark .db-row:hover{background-color:#ffffff0d}body.dark .field-type{background:#ffffff14;color:#a1a1aa}body.dark .badge.unique{background:#3b0764;color:#d8b4fe;border-color:#581c87}body.dark .badge.not-null{background:#374151;color:#e5e7eb;border-color:#4b5563}body.dark .badge.enum{background:#064e3b;color:#6ee7b7;border-color:#065f46}@keyframes flashHighlight{0%{box-shadow:inset 3px 0 0 var(--header-bg),0 0 #0000}50%{box-shadow:inset 3px 0 0 var(--header-bg),0 0 12px rgba(var(--header-rgb),.4)}to{box-shadow:inset 3px 0 0 var(--header-bg),0 0 #0000}}.db-row.highlighted{background-color:rgba(var(--header-rgb),.1);color:var(--text-primary);animation:flashHighlight 1.5s infinite;z-index:10}.db-table.highlighted{border-color:var(--header-bg);animation:flashTable 1.5s infinite;z-index:20}@keyframes flashTable{0%{box-shadow:0 4px 6px #0000001a}50%{box-shadow:0 0 15px rgba(var(--header-rgb),.6)}to{box-shadow:0 4px 6px #0000001a}}.connection-layer{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;overflow:visible}.connection-group{pointer-events:auto;cursor:pointer}.relation-hit-area{fill:none;stroke:transparent;stroke-width:20px}.relation-line-base{fill:none;stroke:var(--line-color);stroke-width:2px;stroke-linecap:round;transition:stroke .3s,stroke-width .3s}.relation-line-flow{fill:none;stroke:var(--header-bg);stroke-width:2px;stroke-linecap:round;stroke-dasharray:15 150;opacity:.4;animation:flowAnimation 5s linear infinite}@keyframes flowAnimation{to{stroke-dashoffset:-165}}@keyframes continuousFlow{to{stroke-dashoffset:-24}}.connection-group.highlighted .relation-line-base{stroke:var(--header-bg);stroke-width:3px;opacity:.5}.connection-group.highlighted .relation-line-flow{opacity:1;stroke-width:3px;stroke-dasharray:12 12;animation:continuousFlow .8s linear infinite;filter:drop-shadow(0 0 4px var(--header-bg))}.anchor-port{fill:var(--bg-color);stroke:var(--line-color);stroke-width:2px;transition:all .3s}.anchor-port.highlighted{stroke:var(--header-bg);fill:var(--header-bg);r:5px;filter:drop-shadow(0 0 3px var(--header-bg))}.label-bg{fill:var(--bg-color);stroke:var(--table-border);transition:all .3s}.connection-group.highlighted .label-bg{stroke:var(--header-bg);fill:#fff}.relation-label-text{font-size:10px;font-weight:700;fill:var(--text-secondary);text-anchor:middle;dominant-baseline:middle;pointer-events:none}.connection-group.highlighted .relation-label-text{fill:var(--header-bg)}.schema-hud{position:absolute;bottom:20px;left:20px;right:auto;background:var(--table-bg);border:1px solid var(--table-border);border-radius:8px;box-shadow:0 4px 12px #00000026;display:flex;flex-direction:row;align-items:center;padding:6px 12px;gap:12px;z-index:1000;-webkit-user-select:none;user-select:none}.hud-group{display:flex;gap:6px;align-items:center}.hud-group+.hud-group{border-top:none;margin-top:0;border-left:1px solid var(--table-border);padding-left:12px;margin-left:0}.hud-btn{background:transparent;border:1px solid transparent;border-radius:4px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;cursor:pointer;transition:all .12s;color:var(--text-primary)}.hud-btn:hover,.hud-btn.active{background:rgba(var(--header-rgb),.1);color:var(--header-bg)}.hud-btn:hover{color:var(--header-bg)}.custom-select{position:relative;font-size:12px;min-width:120px}.select-trigger{background:var(--bg-color);color:var(--text-primary);border:1px solid var(--table-border);border-radius:4px;padding:0 8px;cursor:pointer;white-space:nowrap;position:relative;height:28px;display:flex;align-items:center;gap:6px;min-width:100px;justify-content:space-between}.select-arrow{width:12px;height:12px;opacity:.6;display:flex;align-items:center;justify-content:center}.select-options{display:none;position:absolute;bottom:100%;left:0;margin-bottom:8px;background:var(--table-bg);border:1px solid var(--table-border);border-radius:6px;box-shadow:0 -4px 12px #00000026;width:100%;min-width:140px;overflow:hidden;z-index:1001;flex-direction:column}.custom-select.open .select-options{display:flex}.select-option{padding:8px 12px;cursor:pointer;color:var(--text-primary);transition:background .1s}.select-option:hover{background:rgba(var(--header-rgb),.1);color:var(--header-bg)}.select-option.selected{font-weight:700;background:rgba(var(--header-rgb),.05);color:var(--header-bg)}:root{--bg-color: #f4f4f4;--table-bg: #ffffff;--table-border: #d1d5db;--header-bg: #3b82f6;--header-rgb: 59, 130, 246;--header-text: #ffffff;--text-primary: #1f2937;--text-secondary: #6b7280;--line-color: #9ca3af;--grid-line: rgba(0, 0, 0, .04);--axis-line: rgba(0, 0, 0, .08)}body.dark{--bg-color: #1e1e1e;--table-bg: #2b2d30;--table-border: #4e5256;--header-bg: #3574f0;--header-rgb: 53, 116, 240;--header-text: #ffffff;--text-primary: #d1d5db;--text-secondary: #9ca3af;--line-color: #6b7280;--grid-line: rgba(255, 255, 255, .04);--axis-line: rgba(255, 255, 255, .08)}body{margin:0;background:var(--bg-color);color:var(--text-primary);font-family:sans-serif;overflow:hidden}#app{width:100vw;height:100vh;overflow:hidden;position:relative;--zoom: 1;--pan-x: 0px;--pan-y: 0px}#app.grid-visible{background-image:linear-gradient(to right,var(--axis-line) 2px,transparent 2px),linear-gradient(to bottom,var(--axis-line) 2px,transparent 2px),linear-gradient(to right,var(--grid-line) 1px,transparent 1px),linear-gradient(to bottom,var(--grid-line) 1px,transparent 1px);background-repeat:no-repeat,no-repeat,repeat,repeat;background-position:var(--pan-x) 0,0 var(--pan-y),var(--pan-x) var(--pan-y),var(--pan-x) var(--pan-y);background-size:2px 100%,100% 2px,calc(20px * var(--zoom)) calc(20px * var(--zoom)),calc(20px * var(--zoom)) calc(20px * var(--zoom))}.schema-wrapper{width:100%;height:100%;transform-origin:0 0;position:relative}</style>
</head>

<body>
<div id="app"></div>
</body>

</html>
